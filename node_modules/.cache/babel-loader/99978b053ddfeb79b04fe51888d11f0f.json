{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { createHold } from '../gameHelpers';\nexport const useHold = (player, resetPlayer) => {\n  _s();\n\n  const [hold, setHold] = useState(createHold());\n  useEffect(() => {\n    const updateHold = prevHold => {\n      //Flush stage - reset and rebuild\n      const newHold = prevHold.map(row => row.map(cell => cell[1] === [0, 'clear'])); //Draw tetromino\n\n      player.tetromino.forEach((row, y) => {\n        row.forEach((value, x) => {\n          if (value !== 0) {\n            newHold[y][x] = [value, 'clear'];\n          }\n        });\n      });\n      return newHold;\n    };\n\n    setHold(prev => updateHold(prev));\n  }, [player]);\n  return [hold, setHold];\n};\n\n_s(useHold, \"e6ttYeD091T/Nh/d6IrTJQW89qY=\");","map":{"version":3,"sources":["/Users/hannah/Desktop/github projects/react-tetris/src/hooks/useHold.js"],"names":["useState","useEffect","createHold","useHold","player","resetPlayer","hold","setHold","updateHold","prevHold","newHold","map","row","cell","tetromino","forEach","y","value","x","prev"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAAQC,UAAR,QAAyB,gBAAzB;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,MAAD,EAASC,WAAT,KAAyB;AAAA;;AAC5C,QAAK,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAACE,UAAU,EAAX,CAA/B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMO,UAAU,GAAGC,QAAQ,IAAI;AAC3B;AACA,YAAMC,OAAO,GAAGD,QAAQ,CAACE,GAAT,CAAaC,GAAG,IAC5BA,GAAG,CAACD,GAAJ,CAAQE,IAAI,IAAKA,IAAI,CAAC,CAAD,CAAJ,KAAY,CAAC,CAAD,EAAI,OAAJ,CAA7B,CADY,CAAhB,CAF2B,CAM3B;;AACAT,MAAAA,MAAM,CAACU,SAAP,CAAiBC,OAAjB,CAAyB,CAACH,GAAD,EAAMI,CAAN,KAAY;AACjCJ,QAAAA,GAAG,CAACG,OAAJ,CAAY,CAACE,KAAD,EAAQC,CAAR,KAAc;AACtB,cAAID,KAAK,KAAK,CAAd,EAAgB;AACZP,YAAAA,OAAO,CAACM,CAAD,CAAP,CAAWE,CAAX,IAAgB,CAACD,KAAD,EAAQ,OAAR,CAAhB;AACH;AACJ,SAJD;AAKH,OAND;AAQA,aAAOP,OAAP;AACH,KAhBD;;AAkBAH,IAAAA,OAAO,CAACY,IAAI,IAAIX,UAAU,CAACW,IAAD,CAAnB,CAAP;AACH,GApBQ,EAoBN,CAACf,MAAD,CApBM,CAAT;AAsBA,SAAO,CAACE,IAAD,EAAOC,OAAP,CAAP;AACH,CA1BM;;GAAMJ,O","sourcesContent":["import {useState, useEffect} from 'react';\nimport {createHold} from '../gameHelpers';\n\nexport const useHold = (player, resetPlayer) => {\n    const[hold, setHold] = useState(createHold());\n\n    useEffect(() => {\n        const updateHold = prevHold => {\n            //Flush stage - reset and rebuild\n            const newHold = prevHold.map(row => \n                row.map(cell => (cell[1] === [0, 'clear']))\n            );\n\n            //Draw tetromino\n            player.tetromino.forEach((row, y) => {\n                row.forEach((value, x) => {\n                    if (value !== 0){\n                        newHold[y][x] = [value, 'clear']; \n                    }\n                });\n            });\n\n            return newHold;\n        };\n\n        setHold(prev => updateHold(prev))\n    }, [player]);\n\n    return [hold, setHold]; \n}"]},"metadata":{},"sourceType":"module"}