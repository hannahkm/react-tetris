{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { createHold } from '../gameHelpers';\nimport { TETROMINOS } from '../tetrominos';\nexport const useHold = player => {\n  _s();\n\n  console.log(player);\n  const [hold, setHold] = useState({\n    tetromino: TETROMINOS[0].shape\n  });\n  useEffect(() => {\n    const updateHold = () => {\n      //Clear hold - reset and rebuild\n      const newHold = Array(player.tetromino.length).fill(0).map(row => new Array(player.tetromino.length).fill([0, 'clear']));\n      console.log(player.tetromino); // const newHold = prevHold.map(row => \n      //     row.map(cell => (cell[1] === [0, 'clear']))\n      // );\n      //Draw tetromino\n\n      player.tetromino.forEach((row, y) => {\n        row.forEach((value, x) => {\n          if (value !== 0) {\n            newHold[y][x] = [value, 'clear'];\n          }\n        });\n      });\n      return newHold;\n    };\n\n    setHold(prev => updateHold(prev));\n  }, [player]);\n  const resetHold = useCallback(() => {\n    setHold({\n      tetromino: TETROMINOS[0].shape\n    });\n  }, []);\n  return [hold, setHold];\n};\n\n_s(useHold, \"VmzZ+B1NKHBk+Be2bqg1IUbqYtI=\");","map":{"version":3,"sources":["/Users/hannah/Desktop/github projects/react-tetris/src/hooks/useHold.js"],"names":["useState","useEffect","createHold","TETROMINOS","useHold","player","console","log","hold","setHold","tetromino","shape","updateHold","newHold","Array","length","fill","map","row","forEach","y","value","x","prev","resetHold","useCallback"],"mappings":";;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAAQC,UAAR,QAAyB,gBAAzB;AACA,SAAQC,UAAR,QAAyB,eAAzB;AAEA,OAAO,MAAMC,OAAO,GAAIC,MAAD,IAAY;AAAA;;AAC/BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC;AAC7BU,IAAAA,SAAS,EAAEP,UAAU,CAAC,CAAD,CAAV,CAAcQ;AADI,GAAD,CAAhC;AAIAV,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMW,UAAU,GAAG,MAAM;AACrB;AACA,YAAMC,OAAO,GAAGC,KAAK,CAACT,MAAM,CAACK,SAAP,CAAiBK,MAAlB,CAAL,CAA+BC,IAA/B,CAAoC,CAApC,EAAuCC,GAAvC,CAA2CC,GAAG,IAAI,IAAIJ,KAAJ,CAAUT,MAAM,CAACK,SAAP,CAAiBK,MAA3B,EAAmCC,IAAnC,CAAwC,CAAC,CAAD,EAAI,OAAJ,CAAxC,CAAlD,CAAhB;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACK,SAAnB,EAHqB,CAIrB;AACA;AACA;AAEA;;AACAL,MAAAA,MAAM,CAACK,SAAP,CAAiBS,OAAjB,CAAyB,CAACD,GAAD,EAAME,CAAN,KAAY;AACjCF,QAAAA,GAAG,CAACC,OAAJ,CAAY,CAACE,KAAD,EAAQC,CAAR,KAAc;AACtB,cAAID,KAAK,KAAK,CAAd,EAAgB;AACZR,YAAAA,OAAO,CAACO,CAAD,CAAP,CAAWE,CAAX,IAAgB,CAACD,KAAD,EAAQ,OAAR,CAAhB;AACH;AACJ,SAJD;AAKH,OAND;AAQA,aAAOR,OAAP;AACH,KAlBD;;AAoBAJ,IAAAA,OAAO,CAACc,IAAI,IAAIX,UAAU,CAACW,IAAD,CAAnB,CAAP;AACH,GAtBQ,EAsBN,CAAClB,MAAD,CAtBM,CAAT;AAwBA,QAAMmB,SAAS,GAAGC,WAAW,CAAC,MAAK;AAC/BhB,IAAAA,OAAO,CAAC;AACJC,MAAAA,SAAS,EAAEP,UAAU,CAAC,CAAD,CAAV,CAAcQ;AADrB,KAAD,CAAP;AAGH,GAJ4B,EAI1B,EAJ0B,CAA7B;AAMA,SAAO,CAACH,IAAD,EAAOC,OAAP,CAAP;AACH,CArCM;;GAAML,O","sourcesContent":["import {useState, useEffect} from 'react';\nimport {createHold} from '../gameHelpers';\nimport {TETROMINOS} from '../tetrominos';\n\nexport const useHold = (player) => {\n    console.log(player);\n    const [hold, setHold] = useState({\n        tetromino: TETROMINOS[0].shape,\n    });\n\n    useEffect(() => {\n        const updateHold = () => {\n            //Clear hold - reset and rebuild\n            const newHold = Array(player.tetromino.length).fill(0).map(row => new Array(player.tetromino.length).fill([0, 'clear']))\n            console.log(player.tetromino);\n            // const newHold = prevHold.map(row => \n            //     row.map(cell => (cell[1] === [0, 'clear']))\n            // );\n\n            //Draw tetromino\n            player.tetromino.forEach((row, y) => {\n                row.forEach((value, x) => {\n                    if (value !== 0){\n                        newHold[y][x] = [value, 'clear']; \n                    }\n                });\n            });\n\n            return newHold;\n        };\n\n        setHold(prev => updateHold(prev))\n    }, [player]);\n\n    const resetHold = useCallback(() =>{\n        setHold({\n            tetromino: TETROMINOS[0].shape,\n        })\n    }, [])\n\n    return [hold, setHold]; \n}"]},"metadata":{},"sourceType":"module"}